# ENVIRONMENT
APP_ENV=dev
DEBUG=true
TIMEZONE=Europe/Moscow

# APPLICATION
APP_NAME=analytics
APP_VERSION=1.0.0
APP_KEY=base64:your-32-character-secret-key-here
APP_URL=http://localhost
APP_DOMAIN=async-app.local

# SWOOLE SERVER
SWOOLE_HOST=0.0.0.0
SWOOLE_PORT=9501
SWOOLE_WORKER_NUM=auto
SWOOLE_TASK_WORKER_NUM=4
SWOOLE_MAX_REQUEST=10000
SWOOLE_ENABLE_COROUTINE=true
SWOOLE_ENABLE_STATIC_HANDLER=true
SWOOLE_DOCUMENT_ROOT=/app/public

# DATABASE
DB_CONNECTION=pgsql
DB_HOST=database
DB_PORT=5432
DB_PORTS=5432:5432
DB_DATABASE=app_db
DB_USERNAME=app_user
DB_PASSWORD=secret
DB_CHARSET=utf8
DB_COLLATION=utf8_unicode_ci
DB_PREFIX=
DB_POOL_MIN_CONNECTIONS=1
DB_POOL_MAX_CONNECTIONS=10

# POSTGRES CONFIG
PG_MAX_CONNECTIONS=200
PG_SHARED_BUFFERS=256MB
PG_EFFECTIVE_CACHE_SIZE=1GB
PG_MAINTENANCE_WORK_MEM=64MB
PG_CHECKPOINT_COMPLETION_TARGET=0.9
PG_WAL_BUFFERS=16MB
PG_DEFAULT_STATISTICS_TARGET=100
PG_RANDOM_PAGE_COST=1.1
PG_EFFECTIVE_IO_CONCURRENCY=200
PG_WORK_MEM=4MB
PG_MIN_WAL_SIZE=1GB
PG_MAX_WAL_SIZE=4GB

# REDIS
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DATABASE=0
REDIS_PREFIX=
REDIS_POOL_MIN_CONNECTIONS=1
REDIS_POOL_MAX_CONNECTIONS=10

# CACHE
CACHE_DRIVER=redis
CACHE_PREFIX=cache:
CACHE_TTL=3600

# QUEUE
QUEUE_CONNECTION=rabbitmq
QUEUE_FAILED_TABLE=failed_jobs
QUEUE_LOGS_MODE=development#or production

# RABBITMQ
RABBITMQ_HOST=rabbitmq
RABBITMQ_PORT=5672
RABBITMQ_USER=guest
RABBITMQ_PASSWORD=guest
RABBITMQ_VHOST=/
RABBITMQ_EXCHANGE=app_exchange
RABBITMQ_QUEUE_PREFIX=swoole_app_

# LOGGING
LOG_CHANNEL=stack
LOG_LEVEL=debug
LOG_PATH=/app/var/log
LOG_MAX_FILES=30

# SECURITY
CORS_ALLOWED_ORIGINS=*
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-Requested-With
CORS_EXPOSED_HEADERS=
CORS_MAX_AGE=86400
CORS_SUPPORTS_CREDENTIALS=false

# FILE STORAGE
FILESYSTEM_DRIVER=local
FILESYSTEM_ROOT=/app/var/storage

# Ports
NGINX_PORT_HTTP=80
NGINX_PORT_HTTPS=443
RABBITMQ_MANAGEMENT_PORT=15672
